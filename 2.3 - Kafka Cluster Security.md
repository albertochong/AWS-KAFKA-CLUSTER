
# KAFKA Cluster Security


## Reference KAFKA commands 
###  

* TLS in Kafka
```bash
 
```

## Run in Terminal on each 3 brokers


* Setup a Certificate Authority (CA)
```bash
 mkdir ssl
 cd ssl
 openssl req -new -newkey rsa:4096 -days 365 -x509 -subj "/CN=Chong-CA" -keyout chong-key -out chong-cert -nodes ---> # will generate private and public certificate
 ```
![alt text](https://achong.blob.core.windows.net/gitimages/ssl_certificates.PNG)
 

* Describe one topic.Go to <KAFKA_HOME> folder
```bash
 
```
![alt text](https://achong.blob.core.windows.net/gitimages/describe_topic.PNG)
```bash
 What we have:
 1 - Topic : Topic Name
 2 - PartitionCount  : numbers of partitions
 3 - ReplicationFactor : number of brokers
 4 - Replicas : replicas in broker 0 and 1
 5 - Leader : is the main broker id where the messages from producer are stored first,
     is responsible for all reads and writes for the given partition
 6 - Isr : is the sequence of broker id how message are stored, are in-sync replicas
 OBS: if one broker is doww another broker take position, this is fault tolerance
```

* Creating messages with producer.Go to <KAFKA_HOME> folder

```
* Consumer messages with consumer console.Go to <KAFKA_HOME> folder
```bash

```
![alt text](https://achong.blob.core.windows.net/gitimages/producer_consumer.PNG)


